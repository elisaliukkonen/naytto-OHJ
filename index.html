<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mikkelin tapahtumat</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background: #f3f4f6;
      color: #222;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: linear-gradient(135deg, #2ea177, #2ea177);
      color: white;
      padding: 20px;
      border-bottom: 2px solid black;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .header-controls {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .search-input {
      padding: 10px;
      font-size: 14px;
      border: none;
      border-radius: 5px;
      width: 250px;
    }

    .dropdown {
      position: relative;
    }

    .dropbtn {
      background-color: #09b173;
      color: white;
      padding: 10px 20px;
      font-size: 14px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .dropbtn:hover {
      background-color: #276929;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      top: calc(100% + 5px);
      left: 50%;
      transform: translateX(-50%);
      background-color: white;
      min-width: 200px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      border-radius: 5px;
      padding: 10px;
      z-index: 1;
    }

    .dropdown-content.show {
      display: block;
    }

    .date-filter {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 5px 0;
    }

    .date-filter button {
      background-color: rgb(60, 187, 60);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      flex: 1;
    }

    .date-filter button:hover {
      background-color: rgb(50, 167, 50);
    }

    .date-filter button.active {
      background-color: #2ea177;
    }

    .date-filter input {
      display: none;
      padding: 5px;
      border: 1px solid #ccc;
      border-radius: 3px;
    }

    .date-filter input.show {
      display: block;
    }

    .category-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 20px;
      flex-wrap: wrap;
    }

    .category-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: #2563eb;
      color: white;
      font-size: 14px;
    }

    .category-btn:hover {
      background: #1d4ed8;
    }

    .category-btn.active {
      background: #1d4ed8;
      font-weight: bold;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .events-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .event-card {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }

    .event-card:hover {
      transform: translateY(-5px);
    }

    .event-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .event-content {
      padding: 20px;
    }

    .event-category {
      display: inline-block;
      padding: 5px 12px;
      border-radius: 15px;
      font-size: 12px;
      margin-bottom: 10px;
      color: white;
    }

    .category-urheilu {
      background: #2563eb;
    }

    .category-musiikki {
      background: #d946ef;
    }

    .category-kulttuuri {
      background: #f59e0b;
    }

    .event-title {
      font-size: 1.3em;
      margin-bottom: 10px;
      color: #333;
    }

    .event-info {
      color: #666;
      margin: 5px 0;
      font-size: 14px;
    }

    .event-price {
      font-weight: bold;
      color: #2ea177;
      margin-top: 10px;
    }

    .map-button {
      display: inline-block;
      background: #09b173;
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      text-decoration: none;
      margin-top: 15px;
      font-size: 14px;
    }

    .map-button:hover {
      background: #276929;
    }

    @media (max-width: 768px) {
      .events-grid {
        grid-template-columns: 1fr;
      }

      .search-input {
        width: 100%;
      }

      .header-controls {
        flex-direction: column;
        align-items: stretch;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Mikkelin tapahtumat</h1>
    <div class="header-controls">
      <input type="text" id="searchInput" class="search-input" placeholder="Hae tapahtumaa...">
      
      <div class="dropdown">
        <button onclick="toggleDropdown()" class="dropbtn">Suodata päivämäärällä</button>
        <div id="dateDropdown" class="dropdown-content">
          <div class="date-filter">
            <button onclick="showDatePicker('day')">Päivä</button>
            <input type="date" id="dayPicker">
          </div>
          <div class="date-filter">
            <button onclick="showDatePicker('week')">Viikko</button>
            <input type="week" id="weekPicker">
          </div>
          <div class="date-filter">
            <button onclick="showDatePicker('month')">Kuukausi</button>
            <input type="month" id="monthPicker">
          </div>
          <div class="date-filter">
            <button onclick="clearDateFilter()">Tyhjennä</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="category-buttons">
      <button class="category-btn active" onclick="filterByCategory('kaikki')">Kaikki</button>
      <button class="category-btn" onclick="filterByCategory('urheilu')">Urheilu</button>
      <button class="category-btn" onclick="filterByCategory('musiikki')">Musiikki</button>
      <button class="category-btn" onclick="filterByCategory('kulttuuri')">Kulttuuri</button>
    </div>

    <div id="eventsGrid" class="events-grid"></div>
  </div>

  <script>
    const events = [
      {
      name: "Mikkelin ravit",
      date: "2025-11-29",
      time: "13:00",
      location: "Mikkelin ravirata",
      address: "Mikkelin ravirata, Raviradantie 22, Mikkeli",
      category: "urheilu",
      price: "Tarkista hinta",
      description: "Ravikilpailut",
      image: "kuvat/ravit.jpg"
  },
    { 
      name: "Jukurit - Saipa",
      date: "2025-12-05",
      time: "18:30",
      location: "Let's Go Areena",
      address: "Mikkelin jäähalli, Raviradantie 24, Mikkeli",
      category: "urheilu",
      price: "Alkaen 16 euroa",
      description: "Jääkiekko",
      image: "kuvat/jaakiekko.jpg"
  }      
    ];

    let currentCategory = 'kaikki';
    let currentSearch = '';

    function displayEvents(eventsToShow) {
      const grid = document.getElementById('eventsGrid');
      grid.innerHTML = '';

      eventsToShow.forEach(event => {
        const card = document.createElement('div');
        card.className = 'event-card';
        
        const mapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(event.address)}`;
        
        card.innerHTML = `
          ${event.image ? `<img src="${event.image}" class="event-image" alt="${event.name}">` : '<div class="event-image"></div>'}
          <div class="event-content">
            <span class="event-category category-${event.category}">${event.category}</span>
            <h2 class="event-title">${event.name}</h2>
            <p class="event-info">${event.date} klo ${event.time}</p>
            <p class="event-info">${event.location}</p>
            <p class="event-info">${event.description}</p>
            <p class="event-price">${event.price}</p>
            <a href="${mapsUrl}" target="_blank" class="map-button">Näytä kartalla</a>
          </div>
        `;
        
        grid.appendChild(card);
      });
    }

    function filterEvents() {
      let filtered = events;

      if (currentCategory !== 'kaikki') {
        filtered = filtered.filter(e => e.category === currentCategory);
      }

      if (currentSearch) {
        filtered = filtered.filter(e => 
          e.name.toLowerCase().includes(currentSearch.toLowerCase())
        );
      }

      displayEvents(filtered);
    }

    function filterByCategory(category) {
      currentCategory = category;
      
      document.querySelectorAll('.category-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      filterEvents();
    }

    document.getElementById('searchInput').addEventListener('input', function(e) {
      currentSearch = e.target.value;
      filterEvents();
    });

    function toggleDropdown() {
      document.getElementById('dateDropdown').classList.toggle('show');
    }

    function showDatePicker(type) {
      const pickers = ['dayPicker', 'weekPicker', 'monthPicker'];
      pickers.forEach(id => {
        document.getElementById(id).classList.remove('show');
      });
      
      if (type === 'day') document.getElementById('dayPicker').classList.add('show');
      if (type === 'week') document.getElementById('weekPicker').classList.add('show');
      if (type === 'month') document.getElementById('monthPicker').classList.add('show');
    }

    function clearDateFilter() {
      document.getElementById('dayPicker').value = '';
      document.getElementById('weekPicker').value = '';
      document.getElementById('monthPicker').value = '';
      document.getElementById('dayPicker').classList.remove('show');
      document.getElementById('weekPicker').classList.remove('show');
      document.getElementById('monthPicker').classList.remove('show');
    }

    window.onclick = function(event) {
      if (!event.target.matches('.dropbtn')) {
        const dropdown = document.getElementById('dateDropdown');
        if (dropdown.classList.contains('show')) {
          dropdown.classList.remove('show');
        }
      }
    }

    displayEvents(events);
  </script>
</body>
</html>
